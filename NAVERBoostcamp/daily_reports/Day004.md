# Day 4. íŒŒì´ì¬ ê¸°ì´ˆ ë¬¸ë²• III | ìµœì„±ì²  êµìˆ˜ë‹˜

> Python Object Oriented Programming

ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°(Object Oriented Programming, OOP)

- ê°ì²´ ê°œë…ì„ í”„ë¡œê·¸ë¨ìœ¼ë¡œ í‘œí˜„: ì†ì„±ì€ ë³€ìˆ˜(variable), í–‰ë™ì€ í•¨ìˆ˜(method)ë¡œ í‘œí˜„

- ê°ì²´: ì†ì„±(attribute)ê³¼ í–‰ë™(action)ì„ ê°€ì§
- OOPëŠ” ì„¤ê³„ë„ì— í•´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤(class)ì™€ ì‹¤ì œ êµ¬í˜„ì²´ì¸ ì¸ìŠ¤í„´ìŠ¤(instance)ë¡œ ë‚˜ëˆ”

í´ë˜ìŠ¤ ì„ ì–¸í•˜ê¸°

- Naming Rule
  - í•¨ìˆ˜/ë³€ìˆ˜ëª…: `snake_case`
  - í´ë˜ìŠ¤ëª…: `CamelCase`

- Attribute ì¶”ê°€
  - `__init__`: ê°ì²´ ì´ˆê¸°í™” ì˜ˆì•½ í•¨ìˆ˜(reserved function)

```python
class SoccerPlayer:
    def __init__(self, name, position, back_number):
        self.name = name
        self.position = position
        self.back_number = back_number
    
    def __str__(self):
        return f'Hello. My name is {self.name}.'
# ê°ì²´ ìƒì„±
params = dict(name='son', position='FW', back_number=7)
a1 = SoccerPlayer(**params)

# __str__ ë©”ì„œë“œê°€ ì—†ëŠ” ê²½ìš°
print(a1) # <__main__.SoccerPlayer object at 0x000001B14CD53FA0>

# __str__ ë©”ì„œë“œê°€ ìˆëŠ” ê²½ìš°
print(a1) # Hello. My name is son.
```

- `self`: ì™¸ë¶€ì—ì„œ ì„ ì–¸í•œ ê°ì²´ ë³€ìˆ˜ëª…ì„ í´ë˜ìŠ¤ ì½”ë“œ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•  ê²½ìš° ì‚¬ìš©

OOPì˜ íŠ¹ì§•

- Inheritance(ìƒì†): ë¶€ëª¨ í´ë˜ìŠ¤ë¡œë¶€í„° ì†ì„±ê³¼ ë©”ì†Œë“œë¥¼ ë¬¼ë ¤ë°›ì€ ìì‹ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒ

  - `super()`: ìƒì†ë°›ì€ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìì‹ í´ë˜ìŠ¤ì—ì„œ ë¶ˆëŸ¬ì˜¤ê³ ì í•  ë•Œ

    ```python
    class Employee(Person):
        def __init__(self, parent1, parent2, child1, child2):
            super().__init__(parent1, parent2)
            ...
        def foo(self):
            super().parent_method() # ìƒì„±í•œ ë¶€ëª¨ í´ë˜ìŠ¤ ê°ì²´ì˜ ë©”ì„œë“œ ì‚¬ìš© ê°€ëŠ¥
    ```

- Polymorphism

  - ê°™ì€ ì´ë¦„ ë©”ì†Œë“œì˜ ë‚´ë¶€ ë¡œì§ì„ ë‹¤ë¥´ê²Œ ì‘ì„±

  - í•¨ìˆ˜ëª…ì€ ê°™ì€ë°, ê°œë…ì ìœ¼ë¡œëŠ” ê°™ì€ ì¼ì„ í•˜ëŠ”ë° ì½”ë“œëŠ” ë‹¤ë¥´ê²Œ ì‘ì„±ë˜ëŠ” ê²½ìš°ê°€ ìˆìŒ

  - Dynamic Typing íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ íŒŒì´ì¬ì—ì„œëŠ” ê°™ì€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ìƒì†ì—ì„œ ì£¼ë¡œ ë°œìƒ

    ```python
    class Animal:
        def __init__(self, name):
            self.name = name
        def bark(self):
            raise NotImplementedError()
    
    # ê°œë…ì ìœ¼ë¡œëŠ” ê°™ì§€ë§Œ bark ë©”ì„œë“œì˜ ë‚´ë¶€ êµ¬í˜„ì´ ë‹¤ë¦„
    class Cat(Animal):
        def bark(self):
            return 'Meow!'
    
    class Dog(Animal):
        def bark(self):
            return 'Woof!'
    ```

  - [?] abstract í´ë˜ìŠ¤

- Visibility

  - ê°ì²´ì˜ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ë ˆë²¨ì„ ì¡°ì ˆí•˜ëŠ” ê²ƒ

  - ëˆ„êµ¬ë‚˜ ê°ì²´ ë‚´ë¶€ ë³€ìˆ˜ë¥¼ ë³¼ í•„ìš”ê°€ ì—†ìŒ

    - ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìê°€ ì„ì˜ë¡œ ì •ë³´ ìˆ˜ì •

    - í•„ìš”ì—†ëŠ” ì •ë³´ì—ëŠ” ì ‘ê·¼í•  í•„ìš”ê°€ ì—†ìŒ(ì ‘ê·¼ ì œí•œ)

    - Encapsulation: ìº¡ìŠí™” ë˜ëŠ” ì •ë³´ ì€ë‹‰(information hiding)

      - í´ë˜ìŠ¤ ì„¤ê³„ì‹œ í´ë˜ìŠ¤ ê°„ ê°„ì„­/ì •ë³´ê³µìœ  ìµœì†Œí™”(í´ë˜ìŠ¤ì˜ ìš©ë„ ë“± ê°œë…ì ìœ¼ë¡œ ìƒê°í•´ë´ì•¼ê² ì§€!)
      - ì§ê´€ì ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ íŒŒì•…í•˜ê³ , ì‚¬ìš©ë²• ë‚´ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„!

    - `@property` ë°ì½”ë ˆì´í„°ë¥¼ í™œìš©í•˜ì—¬ ì€ë‹‰ëœ ë³€ìˆ˜ë¥¼ ë¦¬í„´í•  ìˆ˜ ìˆìŒ

      ```python
      class Foo:
          def __init__(self):
              self.__hidden = 'HIDDEN'
              
          @property
          def hidden(self):
              return self.__hidden
          
      temp = Foo()
      temp.__hidden # ì—ëŸ¬ ë°œìƒ
      temp.hidden # 'HIDDEN'
      ```

Decorator

- First-class objects(ì¼ë“±í•¨ìˆ˜, ì¼ê¸‰ê°ì²´)

  - ë³€ìˆ˜ë‚˜ ë°ì´í„° êµ¬ì¡°ì— í• ë‹¹ì´ ê°€ëŠ¥í•œ ê°ì²´

  - íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ ê°€ëŠ¥ or ë¦¬í„´ê°’ìœ¼ë¡œ ì‚¬ìš©(íŒŒì´ì¬ì˜ í•¨ìˆ˜ëŠ” ëª¨ë‘ ì¼ê¸‰í•¨ìˆ˜)

    ```python
    def square(x): return x*x
    f = square # í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•  ìˆ˜ ìˆìŒ: ì¼ë“±í•¨ìˆ˜
    ```

  - ì¥ì : í¸ë¦¬, íš¨ìœ¨ì  ì½”ë”© ê°€ëŠ¥ / ë‹¨ì : ì´í•´í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ

- Inner Function

  - í•¨ìˆ˜ ë‚´ ë˜ ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ì¡´ì¬

    ```python
    def outer(x:int):
        def inner(): # ë‚´ì¬í•¨ìˆ˜
            return x**10
        inner()
    outer(2)
    ```

    - Closures: inner functionì„ ë¦¬í„´ê°’ìœ¼ë¡œ ë°˜í™˜ 

      - ê°™ì€ ê¸°ëŠ¥ì„ í•˜ì§€ë§Œ ì„¸ë¶€ì ìœ¼ë¡œ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ê³ ì í•  ë•Œ ë‚´ë¶€ í•¨ìˆ˜ë¥¼ ìˆ˜ì •

        ```python
        def outer(x:int):
            def inner(): # ë‚´ì¬í•¨ìˆ˜
                return x**10
            return inner
        
        two_10th_power = outer(2)
        two_10th_power()
        ```

      - *ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´?*

        ```python
        def star(func):
            def inner(*args, **kwargs):
                print(args[1] * 30)
                func(*args, **kwargs)
                print(args[1] * 30)
            return inner
        
        @star
        def printer(msg, mark): # ì…ë ¥í•œ msg, markê°€ innerì— ì…ë ¥ë˜ê³ , innerí•¨ìˆ˜ì—ì„œ printerê°€ ì‘ë™í•¨
            print(msg) 
        printer('ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬', 'ğŸ‘')
        ```

        ```python
        ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘
        ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬
        ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘
        ```

        - ì—¬ëŸ¬ ë°ì½”ë ˆì´í„°ë¥¼ ì¤‘ì²©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŒ

          ```python
          def generate_power(exponent):
              def wrapper(f):
                  print('wrapper', f)
                  def inner(*args):
                      print('inner')
                      result = f(*args)
                      return exponent**result
                  return inner
              return wrapper
          
          @generate_power(2) # argumentë¥¼ ë„˜ê²¨ì£¼ê³  ì‹¶ìœ¼ë©´ ìœ„ì²˜ëŸ¼ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ ë” ë®ì–´ì¤˜ì•¼ í•¨(wrapper)
          def raise_two(n):
              return n**2
          ```

          ```python
          # inner í•¨ìˆ˜ì— ì˜í•´ 3**2 -> 2**(3**2) = 512
          raise_two(3)
          ```



> Module and Project

Module

- ì‘ì€ í”„ë¡œê·¸ë¨ ì¡°ê°ë“¤. ëª¨ë“ˆì„ ëª¨ì•„ í•˜ë‚˜ì˜ í° í”„ë¡œê·¸ë¨ì„ ê°œë°œí•¨
- ëª¨ë“ˆí™”ì‹œí‚¤ë©´ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì—ì„œ í™œìš©í•˜ê¸°ê°€ ì‰¬ì›€(API)
- Built-in Module(`random`, `math`, ...)
- ëª¨ë“ˆì„ ëª¨ì€ ê²ƒì´ íŒ¨í‚¤ì§€(í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨)

- pythonì˜ ëª¨ë“ˆ = py íŒŒì¼, `import`ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ í˜¸ì¶œ
  - `import`ë¥¼ í•˜ëŠ” ìˆœê°„ ëª¨ë“ˆ ë‚´ ì½”ë“œë¥¼ ëª¨ë‘ ë¶ˆëŸ¬ì˜´
  - namespace(ë„¤ì„ìŠ¤í˜ì´ìŠ¤): ëª¨ë“ˆì˜ ì¼ë¶€ë§Œì„ `import`í•˜ê³ ì í•˜ëŠ” ê²½ìš°
    - Alias ì„¤ì •í•˜ê¸° - ëª¨ë“ˆëª…ì„ ë³„ì¹­ìœ¼ë¡œ ì¨ì„œ: `import numpy as np`
      - ì´ ë°©ë²•ì„ ê°€ì¥ ê¶Œì¥. í•¨ìˆ˜ì˜ ì¶œì²˜ë¥¼ ë°í˜€ì£¼ëŠ” ê²ƒì´ ê°€ë…ì„±ì— ë„ì›€ ë¨
    - ëª¨ë“ˆì—ì„œ íŠ¹ì • í•¨ìˆ˜/í´ë˜ìŠ¤ë§Œ í˜¸ì¶œ: `from pandas import DataFrame`
    - ëª¨ë“ˆì—ì„œ ëª¨ë“  í•¨ìˆ˜/í´ë˜ìŠ¤ í˜¸ì¶œ: `from pandas import *`

- Built-in Modules: `random`, `math`, `request` ë“±. êµ¬ì„ ìƒë‹˜ì„ ë¯¿ì

Package

- í•˜ë‚˜ì˜ ëŒ€í˜• í”„ë¡œì íŠ¸ë¥¼ ë§Œë“œëŠ” ì½”ë“œì˜ ë¬¶ìŒ

- ë‹¤ì–‘í•œ ëª¨ë“ˆë“¤ì˜ í•©, í´ë”ë¡œ ì—°ê²°

  - í´ë”ë§ˆë‹¤ \__init__.pyì„ í¬í•¨

    - í˜„ì¬ í´ë”ê°€ íŒ¨í‚¤ì§€ì„ì„ ì•Œë¦¬ëŠ” ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸

    - ì—†ì„ ê²½ìš° íŒ¨í‚¤ì§€ë¡œ ê°„ì£¼í•˜ì§€ ì•Šìœ¼ë‚˜, íŒŒì´ì¬ 3.3ë¶€í„°ëŠ” ì—†ì–´ë„ ëœë‹¤ê³  í•¨

      \__init__.py

      ```python
      __all__ = ['image', 'sound', 'stage'] # ê¸°ì¤€ ë””ë ‰í† ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©í•  ëª¨ë“ˆ(í´ë”)ë¥¼ ì…ë ¥
      
      from . import image
      from . import sound
      from . import stage
      ```

- main.py: íŒŒì´ì¬ì€ íŒ¨í‚¤ì§€ í´ë” ìì²´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŒ

  main.py

  ```python
  from sound import echo
  
  if __name__ == '__main__':
      echo.echo_play()
      ...
  ```

- íŒ¨í‚¤ì§€ ë‚´ì—ì„œ ë‹¤ë¥¸ í´ë”ì˜ ëª¨ë“ˆì„ ë¶€ë¥¼ ë•Œ
  - ì ˆëŒ€ì°¸ì¡°: `from game.graphic.render import render_test`
  - ìƒëŒ€ì°¸ì¡°
    -  `from .render import render_test` (í˜„ì¬ ë””ë ‰í† ë¦¬ê°€ graphic í´ë”ì¼ ê²½ìš°)
    - `from ..sound.echo import echo_test`

Virtual Environment

- [í•„ìš”í•œ íŒ¨í‚¤ì§€ë§Œ ì„¤ì¹˜í•˜ëŠ” í™˜ê²½](#Day 4. íŒŒì´ì¬ ê¸°ì´ˆ ë¬¸ë²• III | ìµœì„±ì²  êµìˆ˜ë‹˜)

- ê¸°ë³¸ ì¸í„°í”„ë¦¬í„° + í”„ë¡œì íŠ¸ ì»¨ì…‰ì— ë§ëŠ” íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜

- ëŒ€í‘œì ìœ¼ë¡œ virtualenvì™€ condaê°€ ìˆìŒ(ìš”ìƒˆëŠ” conda ì£¼ë¡œ í™œìš©. ìœˆë„ìš°ì—ì„œëŠ” íŠ¹íˆ!)

  - virtualenv + pip: ê°€ì¥ ëŒ€í‘œì ì¸ ê°€ìƒí™˜ê²½ ê´€ë¦¬ ë„êµ¬ / ë ˆí¼ëŸ°ìŠ¤ + íŒ¨í‚¤ì§€ ê°œìˆ˜ ë§ìŒ

  - conda: ìƒìš©í™”ëœ ê°€ìƒí™˜ê²½ ë„êµ¬, miniconda ê¸°ë³¸ ë„êµ¬ / ì„¤ì¹˜ ìš©ì´ì„± + ìœˆë„ìš°ì—ì„œ íŠ¹íˆ ì¢‹ë‹¤!

    - íŒŒì´ì¬ì˜ ì¼ë¶€ íŒ¨í‚¤ì§€ëŠ” Cì–¸ì–´ë¡œ ì»´íŒŒì¼í•´ì„œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë° pip ì €ì¥ê³µê°„ì—ëŠ” ì»´íŒŒì¼ì´ í¬í•¨ë˜ì§€ ì•Šì€ ê²½ìš°ê°€ ìˆìŒ
      => condaëŠ” ì»´íŒŒì¼ íŒŒì¼ì„ ëª¨ë‘ í¬í•¨í•˜ê¸° ë•Œë¬¸ì— í¸í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥!

    - ê°€ìƒí™˜ê²½ ìƒì„±: `conda create -n NAME python=VERSION`

    - ê°€ìƒí™˜ê²½ í™œì„±í™”: `conda activate NAME`

    - ê°€ìƒí™˜ê²½ ë¹„í™œì„±í™”: `conda deactivate NAME`

      

> Attitude & Tips

- `class Foo(object):`: python3ë¶€í„°ëŠ” objectë¥¼ ìƒì†ì‹œì¼œì£¼ì§€ ì•Šì•„ë„ ë¨! 

- `__`(double underscore, dunder): íŠ¹ìˆ˜í•œ ì˜ˆì•½ í•¨ìˆ˜ë‚˜ ë³€ìˆ˜ ê·¸ë¦¬ê³  í•¨ìˆ˜ëª… ë³€ê²½(mangling)ìœ¼ë¡œ ì‚¬ìš©

  - `self.__variable`: private ë³€ìˆ˜. ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•¨(ì ‘ê·¼ ì‹œë„ì‹œ ì—ëŸ¬ ë°œìƒ)

    ```python
    class Foo:
        def __init__(self):
            self.__hidden = list()
            ...
            
    temp = Foo()
    temp.__hidden
    ```

    ```python
    ---------------------------------------------------------------------------
    AttributeError                            Traceback (most recent call last)
    <ipython-input-53-d5c96e9e5733> in <module>
          1 temp = Foo()
    ----> 2 temp.__hidden
    
    AttributeError: 'Foo' object has no attribute '__hidden'
    ```

- ë°ì½”ë ˆì´í„° ì¶”ê°€ì ìœ¼ë¡œ ê³µë¶€í•´ì•¼ê² ë‹¤: ì´í•´ + êµ¬í˜„
- ê°ì²´ < ëª¨ë“ˆ < íŒ¨í‚¤ì§€(í”„ë¡œì íŠ¸)
- `__pychache__`: ëª¨ë“ˆì„ í˜¸ì¶œí•˜ë©´ ëª¨ë“ˆì˜ ì½”ë“œë¥¼ ì‰½ê²Œ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ íŒŒì´ì¬ ì¸í„°í”„ë¦¬í„°ê°€ í•´ë‹¹ ëª¨ë“ˆì„ ê¸°ê³„ì–´ë¡œ ì‚¬ì „ì— ë²ˆì—­(compile)
- ë¦¬ëˆ…ìŠ¤ ëª…ë ¹ì–´
  - `touch`: ë¹ˆ íŒŒì¼ì„ ìƒì„±í•  ë•Œ ì‚¬ìš©
  - `echo`: ë¬¸ìì—´ì„ í„°ë¯¸ë„ì— ì¶œë ¥í•  ë•Œ
- `svg`: ì´ë¯¸ì§€ë¥¼ ë²¡í„° í˜•íƒœë¡œ ì €ì¥í•  ìˆ˜ ìˆëŠ” í™•ì¥ì